\section{Discussion}
\label{challenges:ccf}
In this section I, compare both systems and emphasize their advantages and disadvantages.\\
Both CCF and Nimble have the aim to guarantee the three CIA properties (1) confidentiality, (2) integrity, and (3) high availability. They also tried to guarantee (1) and (2) with the help of Trusted Execution Environments (TEEs). The problem of both is assuming that TEEs always work correctly as intended. In reality, TEEs can also suffer from different attacks like side-channel attacks or physical attacks and therefore violate the two criteria of the CIA triad. However, TEEs are a relatively new technique and will hopefully be saver in the future.\\
As mentioned before CCF does not have a rollback detection, because its design ensures that when an attack happens to nodes it cannot affect the system. However, when a rollback attack happens to the distributed ledger, it can affect the system without being noticed. Accordingly, this violates the criteria of integrity, because malicious changes to the ledger can be made, which provides risks for applications running in CCF.
As mentioned before, solutions for this integrity problem exist in Nimble. The problem here is that Nimble only focuses on rollback attacks while it completely ignores other kinds of attacks. Therefore also Nimble as an alone standing system would not be safe for applications.\\
Another challenge is the TCB. When comparing both systems, CCF contains about 55.5 thousand lines of code inside the TEE, while Nimble has only 2.3 thousand lines. With a bigger TCB, the code inside the TEE gets more vulnerable. On the other hand, CCF is much more powerful. While Nimble is specialized in rollback attacks, CCF also provides the possibility to use it for multiparty applications.  Despite it would be more efficient if confidential cloud services do not try to put that much code in the TCB to not depend on other services, but reduce the TCB for their field of application.\\
 Unfortunately, this leads to the problem of performance. Nimble's throughput is lower than the C++ implementation of CCF. \\
All in all, there already exist many different confidential cloud services with as well some similar as some different approaches. The challenge is, to pick the advantages of the existing services and try to create customized confidential cloud services for different fields of applications. Some might accept a lower performance for the aspect of a smaller TCB, while others do not need that high safety and therefore choose a better performance.  